<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Mini Widget Vence ðŸŒ¸</title>

<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@600&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    background:#ffffff;
    height:100vh;
    overflow:hidden;
    font-family:'Nunito', sans-serif;
}

/* ðŸŒ¸ Mini widget */
.widget {
    position:absolute;
    top:20%;
    left:50%;
    transform:translateX(-50%);
    width:180px;
    height:180px;
    background:linear-gradient(135deg,#ffe4ec,#ffd1dc);
    border-radius:28px;
    padding:14px;
    text-align:center;
    resize:both;
    overflow:hidden;
    cursor:move;
}

/* Ville */
.city{
    font-size:14px;
    letter-spacing:2px;
    color:#a9445e;
}

/* TempÃ©rature */
.temp{
    font-size:34px;
    color:#b03052;
    margin-top:6px;
}

/* Emoji mÃ©tÃ©o */
.emoji{
    font-size:36px;
    margin:6px 0;
    animation: float 3s ease-in-out infinite;
}

@keyframes float{
    0%,100%{transform:translateY(0)}
    50%{transform:translateY(-6px)}
}

/* Description */
.desc{
    font-size:13px;
    color:#7d3b4f;
}
</style>
</head>
<body>

<div id="widget" class="widget">
    <div class="city">VENCE</div>
    <div class="temp" id="temp"></div>
    <div class="emoji" id="emoji"></div>
    <div class="desc" id="desc"></div>
</div>

<script>
const emojis={
  0:"â˜€ï¸",1:"ðŸŒ¤ï¸",2:"â›…",3:"â˜ï¸",
  51:"ðŸŒ¦ï¸",61:"ðŸŒ§ï¸",80:"ðŸŒ§ï¸",
  95:"â›ˆï¸"
};

fetch("https://api.open-meteo.com/v1/forecast?latitude=43.7089&longitude=7.1139&current_weather=true&timezone=auto")
.then(r=>r.json())
.then(d=>{
    temp.textContent=Math.round(d.current_weather.temperature)+"Â°";
    emoji.textContent=emojis[d.current_weather.weathercode]||"ðŸŒ¸";
    desc.textContent="Aujourdâ€™hui";
});

/* Drag */
let down=false,dx,dy;
widget.addEventListener("mousedown",e=>{
    down=true;
    dx=e.clientX-widget.offsetLeft;
    dy=e.clientY-widget.offsetTop;
});
document.addEventListener("mousemove",e=>{
    if(!down) return;
    widget.style.left=e.clientX-dx+"px";
    widget.style.top=e.clientY-dy+"px";
});
document.addEventListener("mouseup",()=>down=false);
</script>

</body>
</html>

